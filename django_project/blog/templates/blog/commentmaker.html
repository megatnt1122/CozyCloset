{% extends 'blog/base.html' %}

{% block title %}Comment{% endblock %}

{% block extra_css %}
<style>
    .message-container {
        margin-top: 20px;
    }
    .message-box {
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        background-color: #f0f0f0; /* Consistent background for all messages */
    }
    .user-message {
        background-color: #e3f2fd; /* Light blue background for user's messages */
        align-self: flex-end; /* Align user's message to the right */
    }
    .other-message {
        align-self: flex-start; /* Align other's messages to the left */
    }
    .message-meta {
        font-size: 0.75rem; /* Smaller font size for metadata */
        color: #666;
        margin-bottom: 5px;
    }
    .message-content p {
        word-wrap: break-word; /* Ensure long words don't overflow */
    }
    .message-form {
        display: flex;
        align-items: center;
        margin-top: 20px;
        background-color: #fff; /* Change as needed */
        padding: 15px;
        border-radius: 10px; /* Rounded corners for the form */
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Soft shadow for depth */
    }
    .message-form textarea {
        flex-grow: 1; /* Allow textarea to fill available space */
        margin-right: 15px; /* Space between textarea and button */
        border: 1px solid #ced4da; /* Standard border color */
        border-radius: 10px; /* Rounded corners for the textarea */
        padding: 10px; /* Padding inside the textarea */
        height: 10px; /* Fixed height */
        resize: none; /* Prevent resizing */
    }
    .message-form button {
        padding: 10px 20px; /* Padding inside the button */
        background-color: #007bff; /* Primary button color */
        color: white; /* Text color */
        border: none; /* Remove border */
        border-radius: 10px; /* Rounded corners for the button */
        cursor: pointer; /* Cursor change to indicate clickable */
        transition: background-color 0.2s; /* Smooth transition for hover */
    }
    .message-form button:hover {
        background-color: #0056b3; /* Darker shade on hover */
    }
    .text-center {
        text-align: center;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mb-6 text-3xl text-center">Direct Comment</h1>

    <div class="message-container">
        {% for message in commention.commentMessage.all %}
            <div class="message-box {% if message.created_by == request.user %}user-message{% else %}other-message{% endif %}">
                <p class="message-meta"><strong>{{ message.created_by.username }}</strong> @ {{ message.created_at|date:"N j, Y, P" }}</p>
                <p>{{ message.content }}</p>
            </div>
        {% endfor %}
    </div>

    <form method="post" action="" class="message-form">
        {% csrf_token %}
        {{ form.content }}
        <button type="submit">Send</button>
    </form>
</div>
{% endblock %}